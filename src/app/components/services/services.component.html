<div class="services-container">
    <div class="services-header">
        <p>Services</p>
    </div>
    <div class="project-container">
        <div class="project-button" (click)="toggleDropdown()">
            <img src="/project.png">
            <p>Project Name</p>
        </div>
        <div class="project-button-dropdown" *ngIf="dropdown">
            <div class="project-button">
                <img src="/plus.png">
                <p>Create New Project</p>
            </div>
        </div>
    </div>
    <div class="services">
        <div *ngFor="let service of services;">
            <div class="service">
                <p>{{ service.name }}</p>
                <p (click)="create(service.name)">New +</p>
            </div>
            <!-- Workflow -->
            <div class="service-data-list" *ngIf="service.name === 'Workflow'">
                <div class="service-data" [ngClass]="{ 'active': view.windowId === w._id }" *ngFor="let w of workflows" (click)="selectWorkflow(service.name, w._id)">
                    <img [src]="service.icon">
                    <p>{{ w.name }}</p>
                </div>
            </div>
            <!-- API -->
            <div class="service-data-list" *ngIf="service.name === 'API'">
                <div class="service-data" [ngClass]="{ 'active': view.serviceId === a._id }" *ngFor="let a of apis" (click)="selectService(service.name, a._id)">
                    <img [src]="service.icon">
                    <p>{{ a.name }}</p>
                </div>
            </div>
            <!-- Storage -->
            <div class="service-data-list" *ngIf="service.name === 'Storage'">
                <div class="service-data" [ngClass]="{ 'active': view.serviceId === s._id }" *ngFor="let s of storages" (click)="selectService(service.name, s._id)">
                    <img [src]="service.icon">
                    <p>{{ s.name }}</p>
                </div>
            </div>
            <!-- Schema -->
            <div class="service-data-list" *ngIf="service.name === 'Schema'">
                <div class="service-data" [ngClass]="{ 'active': view.serviceId === s._id }" *ngFor="let s of schemas" (click)="selectService(service.name, s._id)">
                    <img [src]="service.icon">
                    <p>{{ s.name }}</p>
                </div>
            </div>
            <!-- Validator -->
            <div class="service-data-list" *ngIf="service.name === 'Validator'">
                <div class="service-data" [ngClass]="{ 'active': view.serviceId === v._id }" *ngFor="let v of validators" (click)="selectService(service.name, v._id)">
                    <img [src]="service.icon">
                    <p>{{ v.name }}</p>
                </div>
            </div>
        </div>
    </div>
    <div class="spacer"></div>
    <div class="user-button" *ngIf="!user" (click)="openLogin()">
        <img src="/user.png">
        <p>Login</p>
    </div>
    <div class="user-button" *ngIf="user" (click)="openSettings()">
        <img src="/user.png">
        <p>{{ user.name }}</p>
    </div>
</div>
